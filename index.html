<!DOCTYPE html>
<html>
    <head>
        <title>Bank CRUD</title>
    </head>
    <body>
        <h1>Bank Management</h1>
        <form id="BankForm">
         <input type ="hidden" id="employeeID">
        <div>
            <label for="employeeName"> Enter Employee Name</label>
            <input type="text" id="employeeName" required>
        </div>   
        <div>
            <label for="=empEmail">Enter Employee Email</label>
            <input type="text" id="empEmail" required>
        </div>
        <div>
            <label for="empPhone">Enter Employee Phone</label>
            <input type="text" id="empPhone" required>
        </div>
        <div>
            <label for="empAddress">Enter Employee Address</label>
            <input type="text" id="empAddress" required>
            <div>
                <label for="empSalary">Enter Employee Salary</label>
                <input type="text" id="empSalary" required>
            </div>
          <button type="submit" id="btnSubmit"> add Employee</button>
          <button type="reset" id="btnReset">Reset</button>
        </form>

        <h1> Employee List</h1>
        <table>
            <thead>
                <tr>
                    <th>Employee ID</th>
                    <th>Employee Name</th>
                    <th>Employee Email</th>
                    <th>Employee Phone</th>
                    <th>Employee Address</th>
                    <th>Employee Salary</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="employeeTableId"></tbody>
        </table>
               <script>
 const API_URL="http://localhost:3000/api/employees"; 
 //  fetch and display employees
 async function fetchEmployees(){
        try{
const response =await featch(API_URL)
            if(!response.ok){
                throw new Error(`Network response was not ok :${responce.ststus}`);
            }
            const employees = await response.json();
            const employeeTable = document.getElementById("employeeTableId");
            employeeTable.innerHTML = ""; 

            employees.forEach(employee => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${employee.id ||'NA'}</td>
                    <td>${employee.name}</td>
                    <td>${employee.email ||'NA'}</td>
                    <td>${employee.phone ||'NA'}</td>
                    <td>${employee.address || 'NA'}</td>
                    <td>${employee.salary}</td>
                    <td>
                        <button onclick="editEmployee()">Edit</button>
                        <button onclick="deleteEmployee()">Delete</button>
                    </td>
                `;
                employeeTable.appendChild(row);
            });

        }catch(error){
            console.error("Error fetching employees:", error);
            consol('Failed to fetch employees:'+ error.message);
        }
 }

 fetchEmployees();
         </script>
     </body>
</html>
